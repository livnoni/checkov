{
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Description": "AWS CloudFormation Template to deploy insecure infrastructure",
  "Parameters": {
    "KmsMasterKeyId": {
      "Description": "Company Name",
      "Type": "String",
      "Default": "kms_id"
    },
    "DBName": {
      "Description": "Name of the Database",
      "Type": "String",
      "Default": "db"
    }
  },
  "Resources": {
    "MySourceQueue": {
      "Type": "AWS::SQS::Queue",
      "Properties": {
        "Tags": [
          {
            "Key": "yor_trace",
            "Value": "cb7b1623-65ce-410e-878d-8a9bde5ce345"
          }
        ],
        "KmsMasterKeyId": { "Ref": "KmsMasterKeyId" }
      }
    },
    "MyDB": {
      "Type": "AWS::RDS::DBInstance",
      "Properties": {
        "Tags": [
          {
            "Key": "yor_trace",
            "Value": "9b83b5e4-476d-446e-9d2a-e9dbe29cd6b7"
          }
        ],
        "DBName": { "Ref": "DBName" },
        "DBInstanceClass": "db.t3.micro",
        "Engine": "mysql",
        "MasterUsername": "master",
        "MasterUserPassword": "password"
      }
    }
  },
  "Outputs": {
    "DBAppPublicDNS": {
      "Description": "DB App Public DNS Name",
      "Value": { "Fn::GetAtt" : [ "MyDB", "PublicDnsName" ] }
    }
  }
}