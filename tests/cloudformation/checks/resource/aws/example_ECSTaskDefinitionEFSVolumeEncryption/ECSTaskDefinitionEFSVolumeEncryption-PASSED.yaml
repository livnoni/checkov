AWSTemplateFormatVersion: "2010-09-09"
Resources:
  Resource0:
    Type: AWS::ECS::TaskDefinition
    Properties:
      ContainerDefinitions: 
        - Name: "busybox"
          Image: "busybox"
          Cpu: 256
          EntryPoint: 
            - "sh"
            - "-c"
          Memory: 512
          Command: 
            - "/bin/sh -c \"while true; do /bin/date > /var/www/my-vol/date; sleep 1; done\""
          Essential: true
      Volumes: 
        - Name: MyVolume
          EFSVolumeConfiguration:
            FilesystemId: FilesystemId
            TransitEncryption: "ENABLED"
      Tags:
        - Key: yor_trace
          Value: 56103bec-c561-4cb6-b7a4-17cb569fa2cc
  Resource1:
    Type: AWS::ECS::TaskDefinition
    Properties:
      ContainerDefinitions: 
        - Name: "busybox"
          Image: "busybox"
          Cpu: 256
          EntryPoint: 
            - "sh"
            - "-c"
          Memory: 512
          Command: 
            - "/bin/sh -c \"while true; do /bin/date > /var/www/my-vol/date; sleep 1; done\""
          Essential: true
      Tags:
        - Key: yor_trace
          Value: 2577b417-02a2-4ad4-a717-a940b42e218e
  Resource2:
    Type: AWS::ECS::TaskDefinition
    Properties:
      ContainerDefinitions: 
        - Name: "busybox"
          Image: "busybox"
          Cpu: 256
          EntryPoint: 
            - "sh"
            - "-c"
          Memory: 512
          Command: 
            - "/bin/sh -c \"while true; do /bin/date > /var/www/my-vol/date; sleep 1; done\""
          Essential: true
      Volumes: 
        - Name: MyVolume
          Host:
            SourcePath: "/source/path"
      Tags:
        - Key: yor_trace
          Value: 953317d7-fb5a-4df2-ab74-f3c0cc304220
